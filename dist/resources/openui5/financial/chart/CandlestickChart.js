sap.ui.define(["./Series","./library","./thirdparty/d3","./thirdparty/moment-with-locales"],function(e){"use strict";return e.extend("openui5.financial.chart.CandlestickChart",{metadata:{aggregations:{items:{type:"openui5.financial.chart.Candle",multiple:true}}},renderer:{},_draw:function(){e.prototype._draw.apply(this);var t=this.getParent();var a=this.getItems();if(a.length<1)return;var r=t.getAggregation("_timeAxis")._scale;var i=t.getAggregation("_valueAxis")._scale;var i=t.getAggregation("_valueAxis")._scale;var n=d3.select("#"+this.getId());var g=.8;var s=this._getTickWidth();var l=n.selectAll().data(a).enter().append("g").classed("fcBullish",e=>e.getClose()>=e.getOpen()).classed("fcBearish",e=>e.getClose()<e.getOpen());l.append("line").classed("fcCandleShadow",true).attr("x1",e=>r(moment(e.getTime()).toDate())+s/2).attr("x2",e=>r(moment(e.getTime()).toDate())+s/2).attr("y1",e=>i(e.getHigh())).attr("y2",e=>i(e.getLow()));l.append("rect").classed("fcCandleBody",true).attr("x",e=>r(moment(e.getTime()).toDate())+(1-g)*s/2).attr("y",e=>i(Math.max(e.getOpen(),e.getClose()))).attr("height",e=>Math.max(1,i(Math.min(e.getOpen(),e.getClose()))-i(Math.max(e.getOpen(),e.getClose())))).attr("width",g*s)}})});