sap.ui.define(["sap/ui/core/Control","sap/ui/core/ResizeHandler","./library","./thirdparty/d3","./thirdparty/moment-with-locales"],function(t,i){"use strict";return t.extend("openui5.financial.chart.Chart",{metadata:{library:"openui5.financial.chart",properties:{height:{type:"string",defaultValue:"100%"},width:{type:"string",defaultValue:"100%"}},aggregations:{series:{type:"openui5.financial.chart.Series",multiple:true}},defaultAggregation:"series"},init:function(){i.register(this,this.onResize.bind(this))},onResize:function(t){this._fWidth=t.size.width;this._fHeight=t.size.height;this._draw()},bindAggregation:function(t,i){if(!i.length)i.length=1e6;return sap.ui.core.Control.prototype.bindAggregation.apply(this,arguments)},onAfterRendering:function(){this._draw()},_draw:function(){var t=d3.select("#"+this.getId());var i=t.select("svg");if(i.empty()){i=t.append("svg")}var e=this._fWidth;i.attr("width",e);var r=this._fHeight;i.attr("height",r);var n=this.getSeries();for(var a=0;a<n.length;a++){n[a]._draw()}},refresh:function(){this._draw()}})});