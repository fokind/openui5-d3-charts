sap.ui.define(["../Series","../library","../thirdparty/d3","../thirdparty/moment-with-locales"],function(t){"use strict";return t.extend("openui5.financial.chart.indicator.MACD",{renderer:{},_draw:function(){var e=this;t.prototype._draw.apply(e);var a=e.getParent();var r=a.getAggregation("_timeAxis");var n=r.getStart();var i=r.getEnd();var o=e.getItems().filter(t=>moment(t.getTime()).isBetween(n,i,"m","[]"));var m=r._scale;var d=a.getAggregation("_valueAxis")._scale;var g=d3.select("#"+e.getId());var s=.8;var l=m(moment(moment(n).toDate()).add(+a.getTimeframe(),"m").toDate());var c=g.selectAll().data(o).enter().filter(t=>moment(t.getTime()).isBetween(n,i,"m","[]")).append("g").classed("fcNone",true);c.append("rect").classed("fcCandleBody",true).attr("x",t=>m(moment(t.getTime()).toDate())+(1-s)*l/2).attr("y",t=>d(Math.max(t.getHistogram(),0))).attr("height",t=>Math.max(1,d(Math.min(t.getHistogram(),0))-d(Math.max(t.getHistogram(),0)))).attr("width",s*l);g.append("path").datum(o).attr("fill","none").attr("stroke","blue").attr("stroke-width",1).attr("d",d3.line().x(t=>m(moment(t.getTime()).toDate())).y(t=>{return d(t.getMacd())}).curve(d3.curveMonotoneX));g.append("path").datum(o).attr("fill","none").attr("stroke","red").attr("stroke-width",1).attr("d",d3.line().x(t=>m(moment(t.getTime()).toDate())).y(t=>d(t.getTrigger())).curve(d3.curveMonotoneX))}})});