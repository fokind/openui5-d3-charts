sap.ui.define(["../Series","../library","../thirdparty/d3","../thirdparty/moment-with-locales"],function(t){"use strict";return t.extend("openui5.financial.chart.indicator.MACD",{renderer:{},_draw:function(){t.prototype._draw.apply(this);var e=this.getParent();var a=this.getItems();if(a.length<1)return;var r=e.getAggregation("_timeAxis")._scale;var i=e.getAggregation("_valueAxis")._scale;var i=e.getAggregation("_valueAxis")._scale;var n=d3.select("#"+this.getId());var d=.8;var o=this._getTickWidth();var g=n.selectAll().data(a).enter().append("g").classed("fcNone",true);g.append("rect").classed("fcCandleBody",true).attr("x",t=>r(moment(t.getTime()).toDate())+(1-d)*o/2).attr("y",t=>i(Math.max(t.getHistogram(),0))).attr("height",t=>Math.max(1,i(Math.min(t.getHistogram(),0))-i(Math.max(t.getHistogram(),0)))).attr("width",d*o);n.append("path").datum(a).attr("fill","none").attr("stroke","blue").attr("stroke-width",1).attr("d",d3.line().x(t=>r(moment(t.getTime()).toDate())).y(t=>{return i(t.getMacd())}).curve(d3.curveMonotoneX));n.append("path").datum(a).attr("fill","none").attr("stroke","red").attr("stroke-width",1).attr("d",d3.line().x(t=>r(moment(t.getTime()).toDate())).y(t=>i(t.getTrigger())).curve(d3.curveMonotoneX))}})});